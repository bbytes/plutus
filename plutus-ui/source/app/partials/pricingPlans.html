<div class="tab-content" ng-init='init()'>

    <div class="col-md-offset-2 col-md-8">
        <div class="main-title">

        </div>

        <div class="row-md-16">
            <div class="col-md-3">
                <label for="comment" class="settings">Select Product</label>
                <div class="form-group">                                   
                    <select class="form-control" ng-model="productName" ng-change="selectPricingDetails()">
                       <option value="" disabled>Select Product</option>
                        <option ng-repeat='pro in product' value='{{pro.id}}'>{{pro.name}}</option>
                    </select>
                </div>
            </div> 

            <div class="col-md-3">
                <label for="comment" class="settings">Plan Name</label>
                <div class="form-group">                                       
                    <input type="text" ng-model="planName" name="planName"  class="form-control" ng-pattern="/^[a-zA-Z0-9\_\- ]*$/" required>                    
                </div>
            </div> 
             <div class="col-md-3">
                <label for="comment" class="settings">Billing Period</label>
                <div class="form-group">                                   
                    <select class="form-control" ng-model="billing" ng-change="selectBilling()">


                        <option value="" disabled>Select BillingCycle</option>


                        <option ng-repeat='(key,value) in billingPeriods' value='{{value}}'>{{value}}</option>
                    </select>
                </div>
            </div> 

            <div class="col-md-3">
                <label for="comment" class="settings">Currency</label>
                <div class="form-group">                                   
                    <select class="form-control" ng-model="currency" ng-change="selectLabel()">
                        <option value="" disabled>Select Currency</option>
                        <option ng-repeat='cur in currencys' value='{{cur}}'>{{cur}}</option>
                    </select>
                </div>
            </div> 
            <div class="col-md-16">
                <label for="comment" class="settings">Description</label>
                <div class="form-group">                                       
                    <textarea type="text" ng-model="description" name="description"  class="form-control" ng-pattern="/^[a-zA-Z0-9\_\- ]*$/" required></textarea>      
                </div>
            </div> 

        </div>
        <div class="main-title" ng-show="pricingdetails.length > 0">
            <h4>Metering Details</h4>
        </div>            
        <div class="row-md-12" ng-show="pricingdetails.length > 0">
            <table>               
                <tbody>
                    <tr ng-repeat="pri in pricingArray">
                        <td style="width:50%;"> {{pri.type}}</td>
                        <td style="width:30%;">  <input ng-model="pri.cost" ng-required="true" pattern="\d+"> </td>
                        <td style="width:20%;"> <label for="comment" class="settings">{{symbol}}</label></td>                                                
                    </tr>
                </tbody>
            </table>
        </div> 
        <div class="main-title" ng-show="pricingdetails.length == []">
            <h4>Fixed Details</h4>
        </div>
        <div class="row-md-12"  ng-show="pricingdetails.length == []">
            <div class="col-md-5">
                <div class="form-group">                           
                    <input type="text" ng-model="pricingType" name="costType" placeholder="Number Of Users"
                           class="form-control"  required>  
                </div>
            </div> 
            <div class="col-md-5">
                <div class="form-group">        
                    <input type="text" ng-model="priceCost"  
                           class="form-control" pattern="\d+" required>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">                                       
                    <label for="comment" class="settings">{{symbol}}</label>
                </div>
            </div>      

        </div> 
        <button type="button" class="btn btn-default create" ng-disabled="myForm.$invalid"
                ng-click="createPricing()">SAVE</button>    


        <button type="button" class="btn btn-default create" ng-disabled="myForm.$invalid"
                ng-click="clear(myForm.$valid)">CLEAR ALL</button>
        <button type="button" class="btn btn-default create" 
                ng-click="updatePricing()">UPDATE</button>

        <div class="project-table" ng-init="init()">
            <div class="main-title">
                <div class="section group">
                    <div class="col span_1_of_3">
                        <h4>Select Product</h4>
                    </div>

                    <div class="col span_1_of_3">                    
                        <div class="right-inner-addon ">
                            <i class="fa fa-search"></i> <input ng-model="searchText"
                                                                class="form-control" placeholder="Search...">
                        </div>
                    </div>
                </div>
            </div>
           
            <table style="width:170%;">
                <thead>
                    <tr>
                        <th style="width:20%;">Name</th>                             
                        <th style="width:30%;">Description</th>
                        <th style="width:30%;">Itemised Details</th>
                        <th style="width:20%;">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="pricing in allPricingPlans| filter:searchText">                        
                        <td style="width:20%;">{{pricing.name}}</td>
                        <td style="width:30%;">{{pricing.desc}}</td>

                     <td style="width:30%;"><span ng-repeat="(key,value) in pricing.productPlanItemToCost">{{key}}:{{value}},</span></td>
                      <td style="width:10%;">
                            <a href="#" ng-click="edit(pricing.id, pricing.product.id)" class="navbar-toggle collapse in icon-menu" data-toggle="collapse" id="menu-toggle-2"><img src="../../assets/img/edit.svg"   title="Edit"></a> 
                       
                            <a href="#" ng-click="delete(pricing.id)" confirm="Are you sure you want to delete the item?" class="navbar-toggle collapse in icon-menu" data-toggle="collapse" id="menu-toggle-2"><img src="../../assets/img/delete.svg"  title="Delete"></a>                           
                        </td> 
             
                    </tr>
  
                    </tbody>
            </table>
            
        </div>
    </div>

    <div ui-view></div>
</div>